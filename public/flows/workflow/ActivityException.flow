attributes:
  ArrowStyle: ArrowEnd
  NodeStyle: BoxIcon
  PROCESS_VISIBILITY: PUBLIC
  display: x=50,y=50,w=159,h=27
steps:
- id: S1
  name: Start
  descriptor: flowbee-demo.start
  attributes:
    display: x=60,y=260,w=60,h=40
  links:
  - id: L1
    attributes:
      display: type=Elbow,x=157,y=294,xs=124&149,ys=280&280
    event: FINISH
    to: S3
- id: S2
  name: Stop
  descriptor: flowbee-demo.stop
  attributes:
    display: x=461,y=118,w=60,h=40
- id: S3
  name: Which Case?
  descriptor: flowbee-demo.decision
  attributes:
    Expression: processCase
    SCRIPT: Groovy
    display: x=153,y=245,w=98,h=68
  links:
  - id: L2
    attributes:
      display: type=Elbow,x=202,y=217,xs=202&202,ys=241&175
    event: FINISH
    to: S5
  - id: L3
    attributes:
      display: type=Elbow,x=258,y=291,xs=255&399,ys=281&281
    event: FINISH
    to: S6
    result: error handler delegation
- id: S5
  name: Script with syntax Error
  descriptor: flowbee-demo.script.ScriptExecutorActivity
  attributes:
    Rule: ""
    SCRIPT: Groovy
    display: x=136,y=112,w=133,h=59
  links:
  - id: L4
    attributes:
      display: type=Elbow,x=342,y=138,xs=273&457,ys=138&138
    event: FINISH
    to: S2
- id: S6
  name: Invoke Subprocess with Error
  descriptor: flowbee-demo.process.InvokeSubProcessActivity
  attributes:
    display: x=403,y=249,w=176,h=65
    processname: tests.workflow/TestSubProcess2.proc
    processversion: '[0,1)'
    synchronous: 'TRUE'
  links:
  - id: L5
    attributes:
      display: type=Elbow,x=491,y=197,xs=491&491,ys=245&162
    event: FINISH
    to: S2
subflows:
- id: F9
  name: Exception Handler
  attributes:
    EMBEDDED_PROCESS_TYPE: Exception Handler
    PROCESS_VISIBILITY: EMBEDDED
    display: x=544,y=20,w=386,h=116
  steps:
  - id: S7
    name: Start
    descriptor: flowbee-demo.start
    attributes:
      display: x=557,y=60,w=60,h=40
    links:
    - id: L6
      attributes:
        display: type=Elbow,x=652,y=80,xs=621&684,ys=80&80
      event: FINISH
      to: S11
  - id: S10
    name: Stop
    descriptor: flowbee-demo.stop
    attributes:
      display: x=857,y=60,w=60,h=40
  - id: S11
    name: ActivityException Fallout
    descriptor: flowbee-demo.task.AutoFormManualTaskActivity
    attributes:
      STATUS_AFTER_EVENT: Cancelled
      TASK_PAGELET: base/AutoFormManualTask.pagelet
      TASK_TEMPLATE: tests.workflow/activityExceptionFallout.task
      TASK_TEMPLATE_assetVersion: '[0.2,1)'
      Wait for Task: 'TRUE'
      display: x=688,y=51,w=100,h=60
    links:
    - id: L7
      attributes:
        display: type=Elbow,x=822,y=80,xs=792&853,ys=80&80
      event: FINISH
      to: S10
variables:
  exception:
    type: java.lang.Exception
  processCase:
    type: java.lang.String
