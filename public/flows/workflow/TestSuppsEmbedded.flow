attributes:
  ArrowStyle: ArrowEnd
  CORRECT_TRANSITION_ID: '157825'
  ERROR_TRANSITION_ID: '157824'
  NodeStyle: BoxIcon
  PROCESS_VISIBILITY: PUBLIC
  SLA: '20'
  SLA_UNIT: Minutes
  START_TRANSITION_ID: '2327615'
  Transition with no Label: Acts as Default
  display: x=50,y=50,w=237,h=27
steps:
- id: S13
  name: Start
  specifier: flowbee-demo.start
  attributes:
    display: x=24,y=438,w=60,h=40
  links:
  - id: L1
    attributes:
      display: type=Elbow,x=245,y=365,xs=88&139,ys=458&458
    event: FINISH
    to: S5
- id: S10
  name: update case value
  specifier: flowbee-demo.script.ScriptExecutorActivity
  attributes:
    Rule: $case = "good";
    display: x=653,y=162,w=100,h=60
  links:
  - id: L7
    attributes:
      display: type=Elbow,x=747,y=355,xs=703&809,ys=226&374
    event: FINISH
    to: S7
- id: S7
  name: Stop
  specifier: flowbee-demo.stop
  attributes:
    display: x=779,y=378,w=60,h=40
- id: S1
  name: Manual task with event wait
  specifier: flowbee-demo.task.CustomManualTaskActivity
  attributes:
    STATUS_AFTER_EVENT: Hold
    TASK_PAGELET: base/CustomManualTask.pagelet
    TASK_TEMPLATE: tests.workflow/Supps Embedded Manual Task.task
    TASK_TEMPLATE_assetVersion: '[0.1,1)'
    WAIT_EVENT_NAMES: NonTaskAction-{$MasterRequestID},CORRECT,true,;Signal-{$MasterRequestID},,true,
    display: x=414,y=430,w=100,h=60
  links:
  - id: L15
    attributes:
      TRANSITION_DELAY: '0'
      TRANSITION_RETRY_COUNT: '0'
      display: type=ElbowH,x=704,y=389,xs=518&656&656&775,ys=494&494&394&394
    event: FINISH
    to: S7
- id: S9
  name: Wait for some event
  specifier: flowbee-demo.event.EventWaitActivity
  attributes:
    STATUS_AFTER_TIMEOUT: Cancelled
    WAIT_EVENT_NAMES: NonTaskAction-{$MasterRequestID},Hold::CORRECT,true,;Signal-{$MasterRequestID},,false,
    display: x=420,y=169,w=100,h=60
  links:
  - id: L6
    attributes:
      display: type=Elbow,x=609,y=209,xs=524&649,ys=195&195
    event: FINISH
    to: S10
- id: S5
  name: which case?
  specifier: flowbee-demo.script.ScriptEvaluator
  attributes:
    Expression: testCase
    SCRIPT: Groovy
    display: x=143,y=383,w=48,h=151
  links:
  - id: L8
    attributes:
      display: type=Elbow,x=280,y=213,xs=195&416,ys=458&199
    event: FINISH
    to: S9
    result: correct-resume-on-wait
  - id: L14
    attributes:
      TRANSITION_DELAY: '0'
      TRANSITION_RETRY_COUNT: '0'
      display: type=ElbowH,x=334,y=452,xs=195&410,ys=460&460
    event: FINISH
    to: S1
    result: task-wait
  - id: L26
    attributes:
      display: type=Elbow,x=265,y=205,xs=195&416,ys=458&199
    event: FINISH
    to: S9
    result: finish-resume-on-wait
  - id: L27
    attributes:
      display: type=Elbow,x=237,y=298,xs=195&420,ys=458&303
    event: FINISH
    to: S22
    result: custom-finish-event-on-event-wait
  - id: L29
    attributes:
      display: type=Elbow,x=302,y=378,xs=191&300&300&410,ys=458&458&382&382
    event: FINISH
    to: S24
    result: correct-waiting-on-wait
  - id: L32
    attributes:
      TRANSITION_DELAY: 0s
      display: type=Elbow,x=246,y=542,xs=195&426,ys=458&586
    event: FINISH
    to: S25
    result: cancel-on-event
- id: S22
  name: Wait for some event
  specifier: flowbee-demo.event.EventWaitActivity
  attributes:
    STATUS_AFTER_TIMEOUT: Cancelled
    WAIT_EVENT_NAMES: Signal-{$MasterRequestID},custom-finish,false,
    display: x=424,y=273,w=100,h=60
  links:
  - id: L30
    attributes:
      display: type=Elbow,x=588,y=276,xs=528&775,ys=303&398
    event: FINISH
    to: S7
    result: custom-finish
- id: S24
  name: Wait for some event
  specifier: flowbee-demo.event.EventWaitActivity
  attributes:
    STATUS_AFTER_TIMEOUT: Cancelled
    WAIT_EVENT_NAMES: NonTaskAction-{$MasterRequestID},Waiting::CORRECT,true,;Signal-{$MasterRequestID},,false,
    display: x=410,y=352,w=100,h=60
  links:
  - id: L31
    attributes:
      display: type=Elbow,x=659,y=411,xs=514&775,ys=395&395
    event: FINISH
    to: S7
- id: S25
  name: Wait for 3 min
  specifier: flowbee-demo.timer.TimerWaitActivity
  attributes:
    $+Id: '26997'
    STATUS_AFTER_EVENT: Cancelled
    TIMER_WAIT: '3'
    Unit: Minutes
    WAIT_EVENT_NAMES: NonTaskAction-{$MasterRequestID},ABORT,true,
    display: x=430,y=556,w=100,h=60
  links:
  - id: L33
    attributes:
      display: type=Elbow,x=595,y=489,xs=534&775,ys=586&398
    event: FINISH
    to: S7
subflows:
- id: F2
  name: Exception Handler
  attributes:
    EMBEDDED_PROCESS_TYPE: Exception Handler
    ENTRY_TRANSITION_ID: '2327617'
    PROCESS_VISIBILITY: EMBEDDED
    START_TRANSITION_ID: '2327578'
    display: x=837,y=40,w=333,h=105
  steps:
  - id: S17
    name: Start
    specifier: flowbee-demo.start
    attributes:
      display: x=837,y=73,w=60,h=40
    links:
    - id: L22
      attributes:
        display: type=Elbow,x=915,y=93,xs=901&950,ys=93&93
      event: FINISH
      to: S18
  - id: S18
    name: Set Variable in Embedded
    specifier: flowbee-demo.script.ScriptExecutorActivity
    attributes:
      Rule: SetInEmbedded = SetInMain + ", World!";
      SCRIPT: Groovy
      display: x=954,y=67,w=100,h=60
    links:
    - id: L23
      attributes:
        display: type=Elbow,x=1096,y=96,xs=1058&1106,ys=96&96
      event: FINISH
      to: S16
  - id: S16
    name: Stop
    specifier: flowbee-demo.stop
    attributes:
      display: x=1110,y=76,w=60,h=40
  variables:
    EmbeddedSubProcessTaskAction:
      type: java.lang.String
- id: F3
  name: Correction Handler
  attributes:
    EMBEDDED_PROCESS_TYPE: Correction Handler
    ENTRY_TRANSITION_ID: '2327616'
    PROCESS_VISIBILITY: EMBEDDED
    START_TRANSITION_ID: '2327569'
    display: x=858,y=349,w=342,h=114
  steps:
  - id: S20
    name: Start
    specifier: flowbee-demo.start
    attributes:
      display: x=859,y=386,w=60,h=40
    links:
    - id: L24
      attributes:
        display: type=Elbow,x=991,y=398,xs=923&970,ys=406&406
      event: FINISH
      to: S19
  - id: S21
    name: Stop
    specifier: flowbee-demo.stop
    attributes:
      display: x=1133,y=386,w=60,h=40
  - id: S19
    name: wait 1 min
    specifier: flowbee-demo.timer.TimerWaitActivity
    attributes:
      STATUS_AFTER_EVENT: Cancelled
      TIMER_WAIT: '1'
      Unit: Minutes
      display: x=974,y=377,w=100,h=60
    links:
    - id: L25
      attributes:
        display: type=Elbow,x=1104,y=406,xs=1078&1129,ys=406&406
      event: FINISH
      to: S21
  variables:
    EmbeddedSubProcessTaskAction:
      type: java.lang.String
- id: F26
  name: Cancellation Handler
  attributes:
    EMBEDDED_PROCESS_TYPE: Cancellation Handler
    PROCESS_VISIBILITY: EMBEDDED
    display: x=846,y=178,w=327,h=124
  steps:
  - id: S27
    name: Start
    specifier: flowbee-demo.start
    attributes:
      display: x=862,y=222,w=60,h=40
    links:
    - id: L34
      attributes:
        display: type=Elbow,x=954,y=242,xs=926&959,ys=242&242
      event: FINISH
      to: S30
  - id: S28
    name: Stop
    specifier: flowbee-demo.stop
    attributes:
      display: x=1101,y=222,w=60,h=40
  - id: S30
    name: wait 1 min
    specifier: flowbee-demo.timer.TimerWaitActivity
    attributes:
      STATUS_AFTER_EVENT: Cancelled
      TIMER_WAIT: '1'
      Unit: Minutes
      display: x=963,y=215,w=100,h=60
    links:
    - id: L35
      attributes:
        display: type=Elbow,x=1082,y=242,xs=1067&1097,ys=242&242
      event: FINISH
      to: S28
variables:
  SetInEmbedded:
    type: java.lang.String
  SetInMain:
    type: java.lang.String
  launcher:
    type: org.apache.xmlbeans.XmlObject
  testCase:
    type: java.lang.String
