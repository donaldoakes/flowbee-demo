attributes:
  ArrowStyle: ArrowEnd
  NodeStyle: BoxIcon
  PROCESS_VISIBILITY: PUBLIC
  PerformanceLevel: '0'
  display: x=45,y=46,w=252,h=26
steps:
- id: S1
  name: Start
  descriptor: flowbee-demo.start
  attributes:
    display: x=28,y=129,w=60,h=40
  links:
  - id: L1
    attributes:
      display: type=Elbow,x=117,y=148,xs=92&142,ys=148&148
    event: FINISH
    to: S5
- id: S2
  name: Stop
  descriptor: flowbee-demo.stop
  attributes:
    display: x=638,y=119,w=60,h=40
- id: S3
  name: Never
  descriptor: flowbee-demo.event.EventWaitActivity
  attributes:
    SLA: ${timeout}
    SLA_DISPLAY_UNITS: Minutes
    STATUS_AFTER_TIMEOUT: Cancelled
    WAIT_EVENT_NAMES: '[["Never",""]]'
    display: x=338,y=122,w=100,h=60
  links:
  - id: L2
    attributes:
      display: type=Elbow,x=538,y=140,xs=442&634,ys=140&140
    event: FINISH
    to: S2
  - id: L3
    attributes:
      display: type=Elbow,x=334,y=228,xs=388&280,ys=186&271
    event: DELAY
    to: S4
- id: S4
  name: After
  descriptor: flowbee-demo.kotlin.ScriptActivity
  attributes:
    Rule: variables["after"] = System.currentTimeMillis()
    SCRIPT: Kotlin Script
    display: x=231,y=275,w=100,h=60
  links:
  - id: L4
    attributes:
      display: type=Elbow,x=484,y=222,xs=334&634,ys=305&139
    event: FINISH
    to: S2
- id: S5
  name: Before
  descriptor: flowbee-demo.kotlin.ScriptActivity
  attributes:
    Rule: variables["before"] = System.currentTimeMillis()
    SCRIPT: Kotlin Script
    display: x=146,y=119,w=100,h=60
  links:
  - id: L5
    attributes:
      display: type=Elbow,x=292,y=150,xs=250&334,ys=150&150
    event: FINISH
    to: S3
variables:
  after:
    type: java.lang.Long
  before:
    type: java.lang.Long
  timeout:
    type: java.lang.Integer
