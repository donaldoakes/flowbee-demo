attributes:
  ArrowStyle: ArrowEnd
  NodeStyle: BoxIcon
  PROCESS_VISIBILITY: PUBLIC
  START_TRANSITION_ID: '2358799'
  display: x=20,y=13,w=116,h=27
steps:
- id: S4
  name: Start
  specifier: com.centurylink.mdw.workflow.activity.process.ProcessStartActivity
  attributes:
    display: x=208,y=44,w=60,h=40
  links:
  - id: L2
    attributes:
      display: type=Elbow,x=86,y=40,xs=204&91,ys=64&186
    event: FINISH
    to: S1
  - id: L3
    attributes:
      display: type=Elbow,x=303,y=81,xs=272&350,ys=64&64
    event: FINISH
    to: S6
- id: S3
  name: "LDAP Adapter\r\nMultiple Results"
  specifier: com.centurylink.mdw.workflow.adapter.ldap.LdapAdapter
  attributes:
    AppCuid: ${props['mdw.ldap.app.user']}
    AppPassword: ${props['mdw.ldap.app.password']}
    BaseDn: ${props['mdw.ldap.base.dn']}
    Bindings: matchingCuids=uid;matchingMnetIds=mnetid;unmatchedMultiple=unmatched;matchingHomePhones=homephone
    LdapHost: ${props['mdw.ldap.host']}
    LdapPort: ${props['mdw.ldap.port']}
    PostScriptLang: Groovy
    PreScriptLang: Groovy
    SearchContext: ou=People
    SearchFilter: (sn=${lastNameInput})
    display: x=233,y=199,w=116,h=67
  links:
  - id: L7
    attributes:
      display: type=Elbow,x=301,y=277,xs=301&301,ys=270&296
    event: FINISH
    to: S7
- id: S5
  name: Stop
  specifier: com.centurylink.mdw.workflow.activity.process.ProcessFinishActivity
  attributes:
    display: x=274,y=390,w=60,h=40
- id: S1
  name: "LDAP Adapter\r\nSingle Result"
  specifier: com.centurylink.mdw.workflow.adapter.ldap.LdapAdapter
  attributes:
    AppCuid: ${props['mdw.ldap.app.user']}
    AppPassword: ${props['mdw.ldap.app.password']}
    BaseDn: ${props['mdw.ldap.base.dn']}
    Bindings: department=departmentname;emailAddress=mail;firstName=givenname;lastName=sn;mnetId=mnetid;phoneNumber=telephonenumber;rcCode=rc;state=st;unmatchedSingle=unmatched;sapId=saploginid
    LdapHost: ${props['mdw.ldap.host']}
    LdapPort: ${props['mdw.ldap.port']}
    PostScriptLang: Groovy
    PreScriptLang: Groovy
    SearchContext: ou=People
    SearchFilter: (uid=${cuid})
    display: x=36,y=190,w=110,h=69
  links:
  - id: L6
    attributes:
      display: type=Elbow,x=199,y=278,xs=150&250,ys=224&330
    event: FINISH
    to: S7
- id: S6
  name: Wait 10s
  specifier: com.centurylink.mdw.workflow.activity.timer.TimerWaitActivity
  attributes:
    STATUS_AFTER_EVENT: Cancelled
    TIMER_WAIT: '10'
    Unit: Seconds
    display: x=354,y=41,w=100,h=60
  links:
  - id: L5
    attributes:
      display: type=Elbow,x=348,y=144,xs=404&291,ys=105&195
    event: FINISH
    to: S3
  - id: L8
    attributes:
      display: type=Elbow,x=488,y=72,xs=458&517,ys=72&72
    event: FINISH
    to: S8
- id: S7
  name: Sync
  specifier: com.centurylink.mdw.workflow.activity.sync.SynchronizationActivity
  attributes:
    STATUS_AFTER_EVENT: Cancelled
    Synced Activities: "LDAP Adapter\r\nSingle Result#LDAP Adapter\r\nMultiple Results#LDAP Adapter\r\nDocument Binding"
    display: x=254,y=300,w=100,h=60
  links:
  - id: L1
    attributes:
      display: type=Elbow,x=304,y=359,xs=304&304,ys=364&386
    event: FINISH
    to: S5
- id: S8
  name: "10 More\r\nSeconds"
  specifier: com.centurylink.mdw.workflow.activity.timer.TimerWaitActivity
  attributes:
    STATUS_AFTER_EVENT: Cancelled
    TIMER_WAIT: '10'
    Unit: Seconds
    display: x=521,y=44,w=106,h=67
  links:
  - id: L9
    attributes:
      display: type=Elbow,x=575,y=138,xs=575&575,ys=115&162
    event: FINISH
    to: S9
- id: S9
  name: "LDAP Adapter\r\nDocument Binding"
  specifier: com.centurylink.mdw.workflow.adapter.ldap.LdapAdapter
  attributes:
    AppCuid: ${props['mdw.ldap.app.user']}
    AppPassword: ${props['mdw.ldap.app.password']}
    BaseDn: ${props['mdw.ldap.base.dn']}
    Bindings: userDocument=results
    LdapHost: ${props['mdw.ldap.host']}
    LdapPort: ${props['mdw.ldap.port']}
    OsgiBundleSymbolicName: com.centurylink.donsservicemix
    PostScriptLang: Groovy
    PreScriptLang: Groovy
    SearchContext: ou=People
    SearchFilter: (saploginid=${sapIdInput})
    display: x=523,y=166,w=113,h=69
  links:
  - id: L10
    attributes:
      display: type=Elbow,x=426,y=249,xs=519&358,ys=200&330
    event: FINISH
    to: S7
variables:
  cuid:
    type: java.lang.String
  department:
    type: java.lang.String
  emailAddress:
    type: java.lang.String
  firstName:
    type: java.lang.String
  lastName:
    type: java.lang.String
  lastNameInput:
    type: java.lang.String
  matchingCuids:
    type: java.util.List<String>
  matchingHomePhones:
    type: java.util.List<String>
  matchingMnetIds:
    type: java.util.List<Integer>
  mnetId:
    type: java.lang.Integer
  phoneNumber:
    type: java.lang.String
  rcCode:
    type: java.lang.String
  sapId:
    type: java.lang.String
  sapIdInput:
    type: java.lang.String
  state:
    type: java.lang.String
  unmatchedMultiple:
    type: java.util.List<String>
  unmatchedSingle:
    type: java.lang.String
  userDocument:
    type: org.json.JSONObject
