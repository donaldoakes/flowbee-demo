attributes:
  ArrowStyle: ArrowEnd
  NodeStyle: BoxIcon
  PROCESS_VISIBILITY: PUBLIC
  PerformanceLevel: '0'
  display: x=40,y=36,w=112,h=26
steps:
- id: s1
  name: Start
  path: flowbee-demo.start
  attributes:
    display: x=84,y=137,w=60,h=40
  links:
  - id: l1
    attributes:
      display: type=Elbow,x=182,y=156,xs=148&216,ys=156&156
    to: s3
- id: s3
  name: |-
    Which
    Case?
  path: flowbee-demo.decision
  attributes:
    Expression: testCase
    SCRIPT: Groovy
    display: x=220,y=125,w=85,h=65
  links:
  - id: l2
    attributes:
      display: type=Elbow,x=262,y=226,xs=262&262,ys=194&259
    to: s4
    result: err
  - id: l4
    attributes:
      display: type=Elbow,x=320,y=132,xs=309&406,ys=157&89
    to: s5
    result: sub
- id: s4
  name: Error Sub
  path: flowbee-demo.process.InvokeSubProcessActivity
  attributes:
    display: x=213,y=263,w=100,h=60
    processname: tests.services/ServiceSub.proc
    processversion: '[0.4,1)'
    synchronous: 'false'
    variables: '{"testCase":"$testCase"}'
  links:
  - id: l7
    attributes:
      display: type=Elbow,x=356,y=293,xs=317&395,ys=293&293
    to: s6
- id: s5
  name: Cancel Sub
  path: flowbee-demo.process.InvokeSubProcessActivity
  attributes:
    display: x=410,y=59,w=100,h=60
    processname: tests.services/CancelSub.proc
    processversion: '[0.1,1)'
    synchronous: 'false'
    variables: '{"testCase":"$testCase"}'
  links:
  - id: l5
    attributes:
      display: type=Elbow,x=457,y=188,xs=457&457,ys=123&254
    to: s6
- id: s6
  name: |-
    Wait
    Forever
  path: flowbee-demo.event.EventWaitActivity
  attributes:
    SLA_DISPLAY_UNITS: Hours
    STATUS_AFTER_TIMEOUT: Cancelled
    WAIT_EVENT_NAMES: '[["eternity",""]]'
    display: x=398,y=258,w=106,h=68
  links:
  - id: l6
    attributes:
      display: type=Elbow,x=557,y=243,xs=509&605,ys=292&194
    to: s7
- id: s7
  name: Stop
  path: flowbee-demo.stop
  attributes:
    display: x=609,y=174,w=60,h=40
notes:
- id: n1
  attributes:
    display: x=388,y=339,w=133,h=40
  text: "Must not complete, \nor Cancel will fail."
variables:
  testCase:
    type: java.lang.String
