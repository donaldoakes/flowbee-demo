attributes:
  ArrowStyle: ArrowEnd
  NodeStyle: BoxIcon
  PROCESS_VISIBILITY: SERVICE
  PerformanceLevel: '3'
  START_TRANSITION_ID: '2346892'
  display: x=38,y=31,w=131,h=27
steps:
- id: s1
  name: Start
  path: flowbee-demo.start
  attributes:
    Parameters: sapId=${request.sapId};workstationId=${request.workstationId}
    display: x=43,y=102,w=60,h=40
  links:
  - id: l1
    attributes:
      display: type=Elbow,x=165,y=129,xs=107&152,ys=122&122
    to: s5
- id: s5
  name: "Real\r\nLookup?"
  path: flowbee-demo.decision
  attributes:
    Expression: sapId != 'DHO115360' && workstationId != 'dxoakes'
    SCRIPT: Groovy
    display: x=156,y=86,w=78,h=76
  links:
  - id: l4
    attributes:
      display: type=Elbow,x=300,y=112,xs=238&361,ys=112&112
    to: s4
    result: 'true'
  - id: l5
    attributes:
      display: type=Elbow,x=292,y=189,xs=230&265&265&364,ys=143&143&185&185
    to: s3
    result: 'false'
- id: s2
  name: Stop
  path: flowbee-demo.stop
  attributes:
    display: x=577,y=180,w=60,h=40
- id: s3
  name: Lookup
  path: flowbee-demo.script.ScriptExecutorActivity
  attributes:
    Output Documents: response
    Rule: ""
    SCRIPT: Groovy
    display: x=368,y=166,w=100,h=60
  links:
  - id: l2
    attributes:
      display: type=Elbow,x=527,y=201,xs=472&573,ys=200&200
    to: s2
- id: s6
  name: "Populate\r\nObject"
  path: flowbee-demo.script.ScriptExecutorActivity
  attributes:
    Output Documents: employee#response
    Rule: ""
    SCRIPT: Groovy
    display: x=553,y=81,w=106,h=67
  links:
  - id: l6
    attributes:
      display: type=Elbow,x=607,y=154,xs=607&607,ys=152&176
    to: s2
- id: s4
  name: LDAP Lookup
  path: flowbee-demo.adapter.ldap.LdapAdapter
  attributes:
    AppCuid: prop:LDAP/AppCUID
    AppPassword: prop:LDAP/AppPassword
    BaseDn: prop:LDAP/BaseDN
    Bindings: firstName=givenName;lastName=sn;sapId=saploginid;workstationId=uid
    LdapHost: prop:LDAP/Host
    LdapPort: prop:LDAP/Port
    PostScriptLang: Groovy
    PreScriptLang: Groovy
    SearchContext: ou=People
    SearchFilter: '(#{sapId == '''' || sapId == null ? ''uid='' : ''saploginId=''}#{sapId == '''' || sapId == null ? workstationId : sapId})'
    display: x=365,y=79,w=100,h=60
  links:
  - id: l3
    attributes:
      display: type=Elbow,x=539,y=132,xs=469&549,ys=110&110
    to: s6
variables:
  employee:
    type: java.lang.Object
  firstName:
    type: java.lang.String
  lastName:
    type: java.lang.String
  request:
    type: javax.xml.bind.JAXBElement
  requestHeaders:
    type: java.util.Map<String,String>
  response:
    type: model.StringDocument
  sapId:
    type: java.lang.String
  workstationId:
    type: java.lang.String
